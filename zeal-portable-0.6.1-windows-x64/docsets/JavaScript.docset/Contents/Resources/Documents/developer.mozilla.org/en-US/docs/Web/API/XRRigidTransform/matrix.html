<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/XRRigidTransform/matrix by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 31 Jan 2022 17:28:10 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="../../../../../favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="../../../../../apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="../../../../../../polyfill.io/v3/polyfill.min3a72.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>XRRigidTransform.matrix</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../../../../static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="XRRigidTransform.matrix" href="matrix.html" hreflang="en"><link rel="alternate" title="XRRigidTransform.matrix" href="https://developer.mozilla.org/ja/docs/Web/API/XRRigidTransform/matrix" hreflang="ja"><meta name="description" content="The read-only XRRigidTransform property
  matrix returns the transform
  matrix represented by the object. The returned matrix can then be premultiplied with a
  column vector to rotate the
  vector by the 3D rotation specified by the orientation, then translate
  it by the position."><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/API/XRRigidTransform/matrix"><meta property="og:title" content="XRRigidTransform.matrix - Web APIs | MDN"><meta property="og:description" content="The read-only XRRigidTransform property
  matrix returns the transform
  matrix represented by the object. The returned matrix can then be premultiplied with a
  column vector to rotate the
  vector by the 3D rotation specified by the orientation, then translate
  it by the position."><meta property="og:locale" content="en-US"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="matrix.html"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="../../../../../static/css/main.55b68e13.chunk.css" rel="stylesheet"><script>LUX=(function(){var a=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMarks)?LUX.gaMarks:[]);var d=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMeasures)?LUX.gaMeasures:[]);var j="LUX_start";var k=window.performance;var l=("undefined"!==typeof(LUX)&&LUX.ns?LUX.ns:(Date.now?Date.now():+(new Date())));if(k&&k.timing&&k.timing.navigationStart){l=k.timing.navigationStart}function f(){if(k&&k.now){return k.now()}var o=Date.now?Date.now():+(new Date());return o-l}function b(n){if(k){if(k.mark){return k.mark(n)}else{if(k.webkitMark){return k.webkitMark(n)}}}a.push({name:n,entryType:"mark",startTime:f(),duration:0});return}function m(p,t,n){if("undefined"===typeof(t)&&h(j)){t=j}if(k){if(k.measure){if(t){if(n){return k.measure(p,t,n)}else{return k.measure(p,t)}}else{return k.measure(p)}}else{if(k.webkitMeasure){return k.webkitMeasure(p,t,n)}}}var r=0,o=f();if(t){var s=h(t);if(s){r=s.startTime}else{if(k&&k.timing&&k.timing[t]){r=k.timing[t]-k.timing.navigationStart}else{return}}}if(n){var q=h(n);if(q){o=q.startTime}else{if(k&&k.timing&&k.timing[n]){o=k.timing[n]-k.timing.navigationStart}else{return}}}d.push({name:p,entryType:"measure",startTime:r,duration:(o-r)});return}function h(n){return c(n,g())}function c(p,o){for(i=o.length-1;i>=0;i--){var n=o[i];if(p===n.name){return n}}return undefined}function g(){if(k){if(k.getEntriesByType){return k.getEntriesByType("mark")}else{if(k.webkitGetEntriesByType){return k.webkitGetEntriesByType("mark")}}}return a}return{mark:b,measure:m,gaMarks:a,gaMeasures:d}})();LUX.ns=(Date.now?Date.now():+(new Date()));LUX.ac=[];LUX.cmd=function(a){LUX.ac.push(a)};LUX.init=function(){LUX.cmd(["init"])};LUX.send=function(){LUX.cmd(["send"])};LUX.addData=function(a,b){LUX.cmd(["addData",a,b])};LUX_ae=[];window.addEventListener("error",function(a){LUX_ae.push(a)});LUX_al=[];if("function"===typeof(PerformanceObserver)&&"function"===typeof(PerformanceLongTaskTiming)){var LongTaskObserver=new PerformanceObserver(function(c){var b=c.getEntries();for(var a=0;a<b.length;a++){var d=b[a];LUX_al.push(d)}});try{LongTaskObserver.observe({type:["longtask"]})}catch(e){}};</script><script src="../../../../../../cdn.speedcurve.com/js/lux2ff4.js?id=108906238" async="" defer="" crossorigin="anonymous"></script><script defer="" src="../../../../../static/js/ga.js"></script><script src="../../../../../static/js/runtime-main.742e058d.js" defer=""></script><script src="../../../../../static/js/4.a756dea3.chunk.js" defer=""></script><script src="../../../../../static/js/main.e0441009.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="https://developer.mozilla.org/en-US/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="../../API.html" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> 🌐</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> 🌐</a></li></ul></li></ul></nav><div class="header-search"><form action="https://developer.mozilla.org/en-US/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="https://developer.mozilla.org/en-US/docs/Web"><span property="name">Web technology for developers</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="../../API.html"><span property="name">Web APIs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="../XRRigidTransform.html"><span property="name">XRRigidTransform</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="matrix.html"><span property="name">XRRigidTransform.matrix</span></a><meta property="position" content="4"></li></ol></nav><ul class="language-toggle single-option"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li></ul></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#value">Value</a></li><li><a href="#usage_notes">Usage notes</a></li><li><a href="#examples">Examples</a></li><li><a href="#specifications">Specifications</a></li><li><a href="#browser_compatibility">Browser compatibility</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="en-US"><h1>XRRigidTransform.matrix</h1><div><p>
  The read-only <a href="../XRRigidTransform.html"><code>XRRigidTransform</code></a> property
  <strong><code>matrix</code></strong> returns the transform
  matrix represented by the object. The returned matrix can then be premultiplied with a
  column vector to rotate the
  vector by the 3D rotation specified by the <a href="orientation.html" title="orientation"><code>orientation</code></a>, then translate
  it by the <a href="position.html" title="position"><code>position</code></a>.
</p></div><a class="dashAnchor" name="//apple_ref/Section/Value"></a><h2 id="value"><a href="#value" title="Permalink to Value">Value</a></h2><div><p>
  A <a href="../../JavaScript/Reference/Global_Objects/Float32Array.html"><code>Float32Array</code></a> containing 16 entries which represents the 4x4 transform
  matrix which is described by
  the <a href="position.html" title="position"><code>position</code></a> and
  <a href="orientation.html" title="orientation"><code>orientation</code></a> properties.
</p></div><a class="dashAnchor" name="//apple_ref/Section/Usage%20notes"></a><h2 id="usage_notes"><a href="#usage_notes" title="Permalink to Usage notes">Usage notes</a></h2><div></div><h3 id="matrix_format"><a href="#matrix_format" title="Permalink to Matrix format">Matrix format</a></h3><div><p>
  All 4x4 transform matrices used in WebGL are stored in 16-element
  <a href="../../JavaScript/Reference/Global_Objects/Float32Array.html"><code>Float32Array</code></a>s. The values are stored
  into the array in column-major order; that is, each column is written into the array
  top-down before moving to the
  right one column and writing the next column into the array. Thus, for an array [a0, a1,
  a2, ..., a13, a14, a15], the
  matrix looks like this:
</p>
<p>
  <math display="block">
    <semantics>
      <mrow>
        <mo>[</mo>
        <mtable rowspacing="0.5ex">
          <mtr>
            <mtd>
              <mi>a0</mi>
            </mtd>
            <mtd>
              <mi>a4</mi>
            </mtd>
            <mtd>
              <mi>a8</mi>
            </mtd>
            <mtd>
              <mi>a12</mi>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mi>a1</mi>
            </mtd>
            <mtd>
              <mi>a5</mi>
            </mtd>
            <mtd>
              <mi>a9</mi>
            </mtd>
            <mtd>
              <mi>a13</mi>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mi>a2</mi>
            </mtd>
            <mtd>
              <mi>a6</mi>
            </mtd>
            <mtd>
              <mi>a10</mi>
            </mtd>
            <mtd>
              <mi>a14</mi>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mi>a3</mi>
            </mtd>
            <mtd>
              <mi>a7</mi>
            </mtd>
            <mtd>
              <mi>a11</mi>
            </mtd>
            <mtd>
              <mi>a15</mi>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
      <annotation encoding="TeX">
        \begin{bmatrix} a[0] &amp; a[4] &amp; a[8] &amp; a[12]\
        a[1] &amp; a[5] &amp; a[9]
        &amp; a[13]\ a[2] &amp; a[6] &amp; a[10] &amp; a[14]\ a[3] &amp; a[7] &amp;
        a[11] &amp; a[15]\ \end{bmatrix}
      </annotation>
    </semantics>
  </math>
</p>
<p>On the first request, the <code>matrix</code> gets computed. After that, it should be cached for performance reasons.</p></div><h3 id="creating_the_matrix"><a href="#creating_the_matrix" title="Permalink to Creating the matrix">Creating the matrix</a></h3><div><p>
  In this section, intended for more advanced readers, we cover how the API calculates
  the matrix for the specified
  transform. It begins by allocating a new matrix and writing a 4x4 identity matrix into
  it:
</p>
<p>
  <math display="block">
    <semantics>
      <mrow>
        <mo>[</mo>
        <mtable rowspacing="0.5ex">
          <mtr>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
      <annotation encoding="TeX">
        \begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0\ 0 &amp; 1
        &amp; 0 &amp; 0\ 0 &amp; 0 &amp;
        1 &amp; 0\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}
      </annotation>
    </semantics>
  </math>
</p>
<p>
  This is a transform that will not change either the orientation or position of any
  point, vector, or object to which
  it's applied.
</p>
<p>
  Next, the <code>position</code> is placed into the right-hand column, like this,
  resulting in a translation matrix
  that will transform a coordinate system by the specified distance in each dimension,
  with no rotational change. Here
  <em>p<sub>x</sub></em>, <em>p<sub>y</sub></em>, and <em>p<sub>z</sub></em>
  are the values of the
  <code>x</code>, <code>y</code>, and <code>z</code> members of the
  <a href="../DOMPointReadOnly.html"><code>DOMPointReadOnly</code></a>
  <code>position</code>.
</p>
<p>
  <math display="block">
    <semantics>
      <mrow>
        <mo>[</mo>
        <mtable rowspacing="0.5ex">
          <mtr>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <msub>
                <mi>p</mi>
                <mi>x</mi>
              </msub>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <msub>
                <mi>p</mi>
                <mi>y</mi>
              </msub>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <msub>
                <mi>p</mi>
                <mi>z</mi>
              </msub>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
      <annotation encoding="TeX">
        \begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; x\ 0 &amp; 1
        &amp; 0 &amp; y\ 0 &amp; 0 &amp;
        1 &amp; z\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}
      </annotation>
    </semantics>
  </math>
</p>
<p>
  Then a rotation matrix is created by computing a column-vector rotation matrix from the
  unit quaternion specified by
  <code>orientation</code>:
</p>
<p>
  <math display="block">
    <semantics>
      <mrow>
        <mo>[</mo>
        <mtable rowspacing="0.5ex">
          <mtr>
            <mtd>
              <mn>1</mn>
              <mo>-</mo>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msubsup>
                <mi>q</mi>
                <mi>y</mi>
                <mn>2</mn>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>q</mi>
                <mi>z</mi>
                <mn>2</mn>
              </msubsup>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>1</mn>
              <mo>-</mo>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msubsup>
                <mi>q</mi>
                <mi>x</mi>
                <mn>2</mn>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>q</mi>
                <mi>z</mi>
                <mn>2</mn>
              </msubsup>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>1</mn>
              <mo>-</mo>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msubsup>
                <mi>q</mi>
                <mi>x</mi>
                <mn>2</mn>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>q</mi>
                <mi>y</mi>
                <mn>2</mn>
              </msubsup>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
      <annotation encoding="TeX">
        \begin{bmatrix} 1 - 2(q_y^2 + q_z^2) &amp; 2(q_xq_y -
        q_zq_w) &amp; 2(q_xq_z + q_yq_w)
        &amp; p_x\ 2(q_xq_y + q_zq_w) &amp; 1 - 2(q_x^2 + q_z^2) &amp; 2(q_yq_z - q_xq_w)
        &amp; p_y\ 2(q_xq_z -
        q_yq_w) &amp; 2(q_yq_z + q_xq_w) &amp; 1 - 2(q_x^2 + q_y^2) &amp; p_z\ 0 &amp; 0
        &amp; 0 &amp; 1 \end{bmatrix}
      </annotation>
    </semantics>
  </math>
</p>
<p>
  The final transform <code>matrix</code> is calculated by multiplying the translation
  matrix by the rotation matrix,
  in the order <code>(translation * rotation)</code>. This yields the final transform
  matrix as returned by
  <code>matrix</code>:
</p>
<p>
  <math display="block">
    <semantics>
      <mrow>
        <mo>[</mo>
        <mtable rowspacing="0.5ex">
          <mtr>
            <mtd>
              <mn>1</mn>
              <mo>-</mo>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msubsup>
                <mi>q</mi>
                <mi>y</mi>
                <mn>2</mn>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>q</mi>
                <mi>z</mi>
                <mn>2</mn>
              </msubsup>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <msub>
                <mi>p</mi>
                <mi>x</mi>
              </msub>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>1</mn>
              <mo>-</mo>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msubsup>
                <mi>q</mi>
                <mi>x</mi>
                <mn>2</mn>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>q</mi>
                <mi>z</mi>
                <mn>2</mn>
              </msubsup>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <msub>
                <mi>p</mi>
                <mi>y</mi>
              </msub>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msub>
                <mi>q</mi>
                <mi>y</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>z</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>q</mi>
                <mi>x</mi>
              </msub>
              <msub>
                <mi>q</mi>
                <mi>w</mi>
              </msub>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <mn>1</mn>
              <mo>-</mo>
              <mn>2</mn>
              <mo stretchy="false">(</mo>
              <msubsup>
                <mi>q</mi>
                <mi>x</mi>
                <mn>2</mn>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>q</mi>
                <mi>y</mi>
                <mn>2</mn>
              </msubsup>
              <mo stretchy="false">)</mo>
            </mtd>
            <mtd>
              <msub>
                <mi>p</mi>
                <mi>z</mi>
              </msub>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
      <annotation encoding="TeX">
        \begin{bmatrix} 1 - 2(q_y^2 + q_z^2) &amp; 2(q_xq_y -
        q_zq_w) &amp; 2(q_xq_z + q_yq_w)
        &amp; p_x\ 2(q_xq_y + q_zq_w) &amp; 1 - 2(q_x^2 + q_z^2) &amp; 2(q_yq_z - q_xq_w)
        &amp; p_y\ 2(q_xq_z -
        q_yq_w) &amp; 2(q_yq_z + q_xq_w) &amp; 1 - 2(q_x^2 + q_y^2) &amp; p_z\ 0 &amp; 0
        &amp; 0 &amp; 1 \end{bmatrix}
      </annotation>
    </semantics>
  </math>
</p></div><a class="dashAnchor" name="//apple_ref/Section/Examples"></a><h2 id="examples"><a href="#examples" title="Permalink to Examples">Examples</a></h2><div><p>
  In this example, a transform is created to create a matrix which can be used as a
  transform during rendering of WebGL
  objects, in order to place objects to match a given offset and orientation. The
  <code>matrix</code> is then passed
  into a library function that uses WebGL to render an object matching a given name using
  the transform matrix specified
  to position and orient it.
</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">let</span> transform <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XRRigidTransform</span><span class="token punctuation">(</span>
                      <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">drawGLObject</span><span class="token punctuation">(</span><span class="token string">"magic-lamp"</span><span class="token punctuation">,</span> transform<span class="token punctuation">.</span>matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><a class="dashAnchor" name="//apple_ref/Section/Specifications"></a><h2 id="specifications"><a href="#specifications" title="Permalink to Specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://immersive-web.github.io/webxr/#dom-xrrigidtransform-matrix">WebXR Device API<!-- --> <br><small># <!-- -->dom-xrrigidtransform-matrix</small></a></td></tr></tbody></table><a class="dashAnchor" name="//apple_ref/Section/Browser%20compatibility"></a><h2 id="browser_compatibility"><a href="#browser_compatibility" title="Permalink to Browser compatibility">Browser compatibility</a></h2><table class="bc-table bc-table-web"><thead><tr class="bc-platforms"><td></td><th class="bc-platform-desktop" colspan="6" title="desktop"><span>desktop</span></th><th class="bc-platform-mobile" colspan="6" title="mobile"><span>mobile</span></th></tr><tr class="bc-browsers"><td></td><th class="bc-browser-chrome"><span class="bc-head-txt-label bc-head-icon-chrome">Chrome</span></th><th class="bc-browser-edge"><span class="bc-head-txt-label bc-head-icon-edge">Edge</span></th><th class="bc-browser-firefox"><span class="bc-head-txt-label bc-head-icon-firefox">Firefox</span></th><th class="bc-browser-ie"><span class="bc-head-txt-label bc-head-icon-ie">Internet Explorer</span></th><th class="bc-browser-opera"><span class="bc-head-txt-label bc-head-icon-opera">Opera</span></th><th class="bc-browser-safari"><span class="bc-head-txt-label bc-head-icon-safari">Safari</span></th><th class="bc-browser-webview_android"><span class="bc-head-txt-label bc-head-icon-webview_android">WebView Android</span></th><th class="bc-browser-chrome_android"><span class="bc-head-txt-label bc-head-icon-chrome_android">Chrome Android</span></th><th class="bc-browser-firefox_android"><span class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</span></th><th class="bc-browser-opera_android"><span class="bc-head-txt-label bc-head-icon-opera_android">Opera Android</span></th><th class="bc-browser-safari_ios"><span class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</span></th><th class="bc-browser-samsunginternet_android"><span class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</span></th></tr></thead><tbody><tr><th scope="row"><div class="bc-table-row-header"><code>matrix</code></div></th><td class="bc-browser-chrome bc-supports-yes " aria-expanded="false" title="Released 2019-12-10"><span class="bc-browser-name">Chrome</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr><span>79</span><div class="bc-icons"></div></td><td class="bc-browser-edge bc-supports-yes " aria-expanded="false" title="Released 2020-01-15"><span class="bc-browser-name">Edge</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr><span>79</span><div class="bc-icons"></div></td><td class="bc-browser-firefox bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Firefox</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr><span>No</span><div class="bc-icons"></div></td><td class="bc-browser-ie bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Internet Explorer</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr><span>No</span><div class="bc-icons"></div></td><td class="bc-browser-opera bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Opera</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr><span>No</span><div class="bc-icons"></div></td><td class="bc-browser-safari bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Safari</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr><span>No</span><div class="bc-icons"></div></td><td class="bc-browser-webview_android bc-supports-no " aria-expanded="false"><span class="bc-browser-name">WebView Android</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr><span>No</span><div class="bc-icons"></div></td><td class="bc-browser-chrome_android bc-supports-yes " aria-expanded="false" title="Released 2019-12-17"><span class="bc-browser-name">Chrome Android</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr><span>79</span><div class="bc-icons"></div></td><td class="bc-browser-firefox_android bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Firefox for Android</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr><span>No</span><div class="bc-icons"></div></td><td class="bc-browser-opera_android bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Opera Android</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr><span>No</span><div class="bc-icons"></div></td><td class="bc-browser-safari_ios bc-supports-no " aria-expanded="false"><span class="bc-browser-name">Safari on iOS</span><abbr class="bc-level-no only-icon" title="No support"><span>No support</span></abbr><span>No</span><div class="bc-icons"></div></td><td class="bc-browser-samsunginternet_android bc-supports-yes " aria-expanded="false" title="Released 2020-03-22"><span class="bc-browser-name">Samsung Internet</span><abbr class="bc-level-yes only-icon" title="Full support"><span>Full support</span></abbr><span>11.2</span><div class="bc-icons"></div></td></tr></tbody></table></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/xrrigidtransform/matrix/index.md" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/xrrigidtransform/matrix/index.md" title="Folder: en-us/web/api/xrrigidtransform/matrix (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FXRRigidTransform%2Fmatrix%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fxrrigidtransform%2Fmatrix%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FXRRigidTransform%2Fmatrix%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fxrrigidtransform%2Fmatrix%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Fa27eb50e9ecbcea16e8b63ec7238163ad1e0f4de%0A*+Document+last+modified%3A+2021-09-02T16%3A33%3A54.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22XRRigidTransform.matrix%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2CContent%3AWebAPI" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2021-09-02T16:33:54.000Z">Sep 2, 2021</time>,<!-- --> <a href="matrix/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="en-US">English (US)</option><option value="ja">日本語</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside><footer id="nav-footer" class="page-footer"><div><a href="http://developer.mozilla.org/en-US/docs/Web/API/XRRigidTransform/matrix">XRRigidTransform.matrix</a> by <a href="http://developer.mozilla.org/en-US/docs/Web/API/XRRigidTransform/matrix$history">Mozilla Contributors</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</div></footer></main><nav id="sidebar-quicklinks" class="sidebar"><h4>Related Topics</h4><div><ol><li><strong><a href="../WebXR_Device_API.html">WebXR Device API</a></strong></li><li><strong><a href="../XRRigidTransform.html"><code>XRRigidTransform</code></a></strong></li><li class="toggle"><details open=""><summary>Constructor</summary><ol><li><a href="XRRigidTransform.html"><code>XRRigidTransform()</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Properties</summary><ol><li><a href="inverse.html"><code>inverse</code></a></li><li><em><code>matrix</code></em></li><li><a href="orientation.html"><code>orientation</code></a></li><li><a href="position.html"><code>position</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Related pages for WebXR Device API</summary><ol><li><a href="../Navigator/xr.html"><code>Navigator.xr</code></a></li><li><a href="../WebGLRenderingContext/makeXRCompatible.html"><code>WebGLRenderingContext.makeXRCompatible()</code></a></li><li><a href="../XRAnchor.html"><code>XRAnchor</code></a></li><li><a href="../XRBoundedReferenceSpace.html"><code>XRBoundedReferenceSpace</code></a></li><li><a href="../XRCPUDepthInformation.html"><code>XRCPUDepthInformation</code></a></li><li><a href="../XRDepthInformation.html"><code>XRDepthInformation</code></a></li><li><a href="../XRFrame.html"><code>XRFrame</code></a></li><li><a href="../XRInputSource.html"><code>XRInputSource</code></a></li><li><a href="../XRInputSourceArray.html"><code>XRInputSourceArray</code></a></li><li><a href="../XRInputSourceEvent.html"><code>XRInputSourceEvent</code></a></li><li><a href="../XRInputSourcesChangeEvent.html"><code>XRInputSourcesChangeEvent</code></a></li><li><a href="../XRPose.html"><code>XRPose</code></a></li><li><a href="../XRReferenceSpace.html"><code>XRReferenceSpace</code></a></li><li><a href="../XRReferenceSpaceEvent.html"><code>XRReferenceSpaceEvent</code></a></li><li><a href="../XRRenderState.html"><code>XRRenderState</code></a></li><li><a href="../XRSession.html"><code>XRSession</code></a></li><li><a href="../XRSessionEvent.html"><code>XRSessionEvent</code></a></li><li><a href="../XRSpace.html"><code>XRSpace</code></a></li><li><a href="../XRSystem.html"><code>XRSystem</code></a></li><li><a href="../XRView.html"><code>XRView</code></a></li><li><a href="../XRViewerPose.html"><code>XRViewerPose</code></a></li><li><a href="../XRViewport.html"><code>XRViewport</code></a></li><li><a href="../XRWebGLBinding.html"><code>XRWebGLBinding</code></a></li><li><a href="../XRWebGLDepthInformation.html"><code>XRWebGLDepthInformation</code></a></li><li><a href="../XRWebGLLayer.html"><code>XRWebGLLayer</code></a></li></ol></details></li></ol></div></nav></div><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"XRRigidTransform.matrix","mdn_url":"/en-US/docs/Web/API/XRRigidTransform/matrix","locale":"en-US","native":"English (US)","hasMathML":true,"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebXR_Device_API\">WebXR Device API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/XRRigidTransform\"><code>XRRigidTransform</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Constructor</summary><ol><li><a href=\"/en-US/docs/Web/API/XRRigidTransform/XRRigidTransform\"><code>XRRigidTransform()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/XRRigidTransform/inverse\"><code>inverse</code></a></li><li><em><code>matrix</code></em></li><li><a href=\"/en-US/docs/Web/API/XRRigidTransform/orientation\"><code>orientation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRRigidTransform/position\"><code>position</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebXR Device API</summary><ol><li><a href=\"/en-US/docs/Web/API/Navigator/xr\"><code>Navigator.xr</code></a></li><li><a href=\"/en-US/docs/Web/API/WebGLRenderingContext/makeXRCompatible\"><code>WebGLRenderingContext.makeXRCompatible()</code></a></li><li><a href=\"/en-US/docs/Web/API/XRAnchor\"><code>XRAnchor</code></a></li><li><a href=\"/en-US/docs/Web/API/XRBoundedReferenceSpace\"><code>XRBoundedReferenceSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRCPUDepthInformation\"><code>XRCPUDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRDepthInformation\"><code>XRDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRFrame\"><code>XRFrame</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSource\"><code>XRInputSource</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourceArray\"><code>XRInputSourceArray</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourceEvent\"><code>XRInputSourceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourcesChangeEvent\"><code>XRInputSourcesChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRPose\"><code>XRPose</code></a></li><li><a href=\"/en-US/docs/Web/API/XRReferenceSpace\"><code>XRReferenceSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRReferenceSpaceEvent\"><code>XRReferenceSpaceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRRenderState\"><code>XRRenderState</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSession\"><code>XRSession</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSessionEvent\"><code>XRSessionEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSpace\"><code>XRSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSystem\"><code>XRSystem</code></a></li><li><a href=\"/en-US/docs/Web/API/XRView\"><code>XRView</code></a></li><li><a href=\"/en-US/docs/Web/API/XRViewerPose\"><code>XRViewerPose</code></a></li><li><a href=\"/en-US/docs/Web/API/XRViewport\"><code>XRViewport</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLBinding\"><code>XRWebGLBinding</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLDepthInformation\"><code>XRWebGLDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLLayer\"><code>XRWebGLLayer</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  The read-only <a href=\"/en-US/docs/Web/API/XRRigidTransform\"><code>XRRigidTransform</code></a> property\n  <strong><code>matrix</code></strong> returns the transform\n  matrix represented by the object. The returned matrix can then be premultiplied with a\n  column vector to rotate the\n  vector by the 3D rotation specified by the <a href=\"/en-US/docs/Web/API/XRRigidTransform/orientation\" title=\"orientation\"><code>orientation</code></a>, then translate\n  it by the <a href=\"/en-US/docs/Web/API/XRRigidTransform/position\" title=\"position\"><code>position</code></a>.\n</p>"}},{"type":"prose","value":{"id":"Value","title":"Value","isH3":false,"content":"<p>\n  A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array\"><code>Float32Array</code></a> containing 16 entries which represents the 4x4 transform\n  matrix which is described by\n  the <a href=\"/en-US/docs/Web/API/XRRigidTransform/position\" title=\"position\"><code>position</code></a> and\n  <a href=\"/en-US/docs/Web/API/XRRigidTransform/orientation\" title=\"orientation\"><code>orientation</code></a> properties.\n</p>"}},{"type":"prose","value":{"id":"Usage_notes","title":"Usage notes","isH3":false,"content":""}},{"type":"prose","value":{"id":"Matrix_format","title":"Matrix format","isH3":true,"content":"<p>\n  All 4x4 transform matrices used in WebGL are stored in 16-element\n  <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array\"><code>Float32Array</code></a>s. The values are stored\n  into the array in column-major order; that is, each column is written into the array\n  top-down before moving to the\n  right one column and writing the next column into the array. Thus, for an array [a0, a1,\n  a2, ..., a13, a14, a15], the\n  matrix looks like this:\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mi>a0</mi>\n            </mtd>\n            <mtd>\n              <mi>a4</mi>\n            </mtd>\n            <mtd>\n              <mi>a8</mi>\n            </mtd>\n            <mtd>\n              <mi>a12</mi>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mi>a1</mi>\n            </mtd>\n            <mtd>\n              <mi>a5</mi>\n            </mtd>\n            <mtd>\n              <mi>a9</mi>\n            </mtd>\n            <mtd>\n              <mi>a13</mi>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mi>a2</mi>\n            </mtd>\n            <mtd>\n              <mi>a6</mi>\n            </mtd>\n            <mtd>\n              <mi>a10</mi>\n            </mtd>\n            <mtd>\n              <mi>a14</mi>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mi>a3</mi>\n            </mtd>\n            <mtd>\n              <mi>a7</mi>\n            </mtd>\n            <mtd>\n              <mi>a11</mi>\n            </mtd>\n            <mtd>\n              <mi>a15</mi>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} a[0] &amp; a[4] &amp; a[8] &amp; a[12]\\\n        a[1] &amp; a[5] &amp; a[9]\n        &amp; a[13]\\ a[2] &amp; a[6] &amp; a[10] &amp; a[14]\\ a[3] &amp; a[7] &amp;\n        a[11] &amp; a[15]\\ \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>\n<p>On the first request, the <code>matrix</code> gets computed. After that, it should be cached for performance reasons.</p>"}},{"type":"prose","value":{"id":"Creating_the_matrix","title":"Creating the matrix","isH3":true,"content":"<p>\n  In this section, intended for more advanced readers, we cover how the API calculates\n  the matrix for the specified\n  transform. It begins by allocating a new matrix and writing a 4x4 identity matrix into\n  it:\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0\\ 0 &amp; 1\n        &amp; 0 &amp; 0\\ 0 &amp; 0 &amp;\n        1 &amp; 0\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>\n<p>\n  This is a transform that will not change either the orientation or position of any\n  point, vector, or object to which\n  it's applied.\n</p>\n<p>\n  Next, the <code>position</code> is placed into the right-hand column, like this,\n  resulting in a translation matrix\n  that will transform a coordinate system by the specified distance in each dimension,\n  with no rotational change. Here\n  <em>p<sub>x</sub></em>, <em>p<sub>y</sub></em>, and <em>p<sub>z</sub></em>\n  are the values of the\n  <code>x</code>, <code>y</code>, and <code>z</code> members of the\n  <a href=\"/en-US/docs/Web/API/DOMPointReadOnly\"><code>DOMPointReadOnly</code></a>\n  <code>position</code>.\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>x</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>y</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>z</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; x\\ 0 &amp; 1\n        &amp; 0 &amp; y\\ 0 &amp; 0 &amp;\n        1 &amp; z\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>\n<p>\n  Then a rotation matrix is created by computing a column-vector rotation matrix from the\n  unit quaternion specified by\n  <code>orientation</code>:\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>y</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>z</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>x</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>z</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>x</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>y</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} 1 - 2(q_y^2 + q_z^2) &amp; 2(q_xq_y -\n        q_zq_w) &amp; 2(q_xq_z + q_yq_w)\n        &amp; p_x\\ 2(q_xq_y + q_zq_w) &amp; 1 - 2(q_x^2 + q_z^2) &amp; 2(q_yq_z - q_xq_w)\n        &amp; p_y\\ 2(q_xq_z -\n        q_yq_w) &amp; 2(q_yq_z + q_xq_w) &amp; 1 - 2(q_x^2 + q_y^2) &amp; p_z\\ 0 &amp; 0\n        &amp; 0 &amp; 1 \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>\n<p>\n  The final transform <code>matrix</code> is calculated by multiplying the translation\n  matrix by the rotation matrix,\n  in the order <code>(translation * rotation)</code>. This yields the final transform\n  matrix as returned by\n  <code>matrix</code>:\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>y</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>z</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>x</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>x</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>z</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>y</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>x</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>y</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>z</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} 1 - 2(q_y^2 + q_z^2) &amp; 2(q_xq_y -\n        q_zq_w) &amp; 2(q_xq_z + q_yq_w)\n        &amp; p_x\\ 2(q_xq_y + q_zq_w) &amp; 1 - 2(q_x^2 + q_z^2) &amp; 2(q_yq_z - q_xq_w)\n        &amp; p_y\\ 2(q_xq_z -\n        q_yq_w) &amp; 2(q_yq_z + q_xq_w) &amp; 1 - 2(q_x^2 + q_y^2) &amp; p_z\\ 0 &amp; 0\n        &amp; 0 &amp; 1 \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>"}},{"type":"prose","value":{"id":"Examples","title":"Examples","isH3":false,"content":"<p>\n  In this example, a transform is created to create a matrix which can be used as a\n  transform during rendering of WebGL\n  objects, in order to place objects to match a given offset and orientation. The\n  <code>matrix</code> is then passed\n  into a library function that uses WebGL to render an object matching a given name using\n  the transform matrix specified\n  to position and orient it.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> transform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XRRigidTransform</span><span class=\"token punctuation\">(</span>\n                      <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">z</span><span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                      <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">z</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">w</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">drawGLObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"magic-lamp\"</span><span class=\"token punctuation\">,</span> transform<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"Specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://immersive-web.github.io/webxr/#dom-xrrigidtransform-matrix","title":"WebXR Device API","shortTitle":"WebXR Device API"}],"query":"api.XRRigidTransform.matrix"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"Browser_compatibility","isH3":false,"query":"api.XRRigidTransform.matrix","dataURL":"/en-US/docs/Web/API/XRRigidTransform/matrix/bcd.json"}}],"toc":[{"text":"Value","id":"Value"},{"text":"Usage notes","id":"Usage_notes"},{"text":"Examples","id":"Examples"},{"text":"Specifications","id":"Specifications"},{"text":"Browser compatibility","id":"Browser_compatibility"}],"summary":"The read-only XRRigidTransform property\n  matrix returns the transform\n  matrix represented by the object. The returned matrix can then be premultiplied with a\n  column vector to rotate the\n  vector by the 3D rotation specified by the orientation, then translate\n  it by the position.","popularity":0,"modified":"2021-09-02T16:33:54.000Z","other_translations":[{"title":"XRRigidTransform.matrix","locale":"ja","native":"日本語"}],"source":{"folder":"en-us/web/api/xrrigidtransform/matrix","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/xrrigidtransform/matrix/index.md","last_commit_url":"https://github.com/mdn/content/commit/a27eb50e9ecbcea16e8b63ec7238163ad1e0f4de","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/XRRigidTransform","title":"XRRigidTransform"},{"uri":"/en-US/docs/Web/API/XRRigidTransform/matrix","title":"XRRigidTransform.matrix"}],"pageTitle":"XRRigidTransform.matrix - Web APIs | MDN","noIndexing":false}}</script>
<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/XRRigidTransform/matrix by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 31 Jan 2022 17:28:10 GMT -->
</body></html>